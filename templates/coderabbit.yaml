# DevOps-Factory: CodeRabbit Config
# AI Code Review - replaces Claude API-based reviews (Claude Max compatible)
# Install CodeRabbit GitHub App first: https://github.com/apps/coderabbitai
# Free tier: unlimited public repos, 5 private repos

language: fr
reviews:
  profile: assertive
  request_changes_workflow: true
  high_level_summary: true
  high_level_summary_placeholder: '@coderabbitai summary'
  auto_title_placeholder: '@coderabbitai'
  review_status: true
  collapse_walkthrough: false
  poem: false
  path_instructions:
    - path: 'src/components/**'
      instructions: 'Focus on React best practices, hooks usage, accessibility, and performance. Check for missing memo/useCallback where needed.'
    - path: 'src/services/**'
      instructions: 'Focus on error handling, input validation with Zod, and proper typing. No any types.'
    - path: 'src/repositories/**'
      instructions: 'Check for SQL injection, missing parameterized queries, transaction usage for multi-table operations.'
    - path: 'prisma/**'
      instructions: 'Check for destructive migrations (DROP, ALTER column type). Flag if missing down migration.'
    - path: '**/*.test.*'
      instructions: 'Verify AAA pattern, meaningful assertions, edge cases covered. Test names should follow: should [verb] when [condition].'
    - path: '.github/workflows/**'
      instructions: 'Check for security: pinned action versions, minimal permissions, no secrets in logs.'
    - path: '**/*.{css,scss}'
      instructions: 'Check for accessibility: color contrast, focus indicators, responsive design.'
    - path: 'scripts/**'
      instructions: 'Check for error handling, proper logging, and no hardcoded secrets or paths.'
  tools:
    eslint:
      enabled: true
    biome:
      enabled: false
    github-checks:
      enabled: true
      timeout_ms: 90000
  auto_review:
    enabled: true
    drafts: false
    base_branches:
      - main
      - master
chat:
  auto_reply: true
