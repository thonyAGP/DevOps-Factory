<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DevOps Factory - Dashboard</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #0d1117;
      color: #c9d1d9;
      padding: 2rem;
      max-width: 1200px;
      margin: 0 auto;
    }
    a { color: #58a6ff; text-decoration: none; }
    a:hover { text-decoration: underline; }

    /* Header */
    .header { text-align: center; margin-bottom: 1.5rem; }
    .header h1 { color: #58a6ff; font-size: 1.8rem; }
    .header .timestamp { color: #8b949e; font-size: 0.8rem; margin-top: 0.3rem; }

    /* Summary strip */
    .summary {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
      margin-bottom: 1.5rem;
    }
    .summary-item {
      background: #161b22;
      border: 1px solid #30363d;
      border-radius: 8px;
      padding: 0.8rem 1.5rem;
      text-align: center;
      min-width: 120px;
    }
    .summary-item .number { font-size: 1.6rem; font-weight: bold; }
    .summary-item .label { color: #8b949e; font-size: 0.75rem; }

    /* All clear banner */
    .all-clear {
      background: rgba(34,197,94,0.1);
      border: 1px solid #22c55e;
      border-radius: 8px;
      padding: 1rem;
      text-align: center;
      color: #22c55e;
      font-weight: bold;
      font-size: 1.1rem;
      margin-bottom: 1.5rem;
    }

    /* Section titles */
    .section-title {
      font-size: 1rem;
      color: #8b949e;
      margin-bottom: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }
    .section-title.alert { color: #ef4444; }

    /* Alert cards - problems */
    .alerts { margin-bottom: 2rem; }
    .alert-card {
      background: #161b22;
      border: 1px solid #30363d;
      border-left: 4px solid #ef4444;
      border-radius: 8px;
      padding: 1rem 1.2rem;
      margin-bottom: 0.8rem;
    }
    .alert-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.6rem;
    }
    .issue-list {
      list-style: none;
      padding: 0;
    }
    .issue-list li {
      padding: 0.3rem 0;
      padding-left: 1.2rem;
      position: relative;
      font-size: 0.9rem;
    }
    .issue-list li::before {
      content: "\26A0";
      position: absolute;
      left: 0;
    }

    /* OK cards - compact expandable */
    .ok-section { margin-bottom: 2rem; }
    .ok-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 0.5rem;
    }
    .ok-card {
      background: #161b22;
      border: 1px solid #30363d;
      border-radius: 8px;
      overflow: hidden;
    }
    .ok-card summary {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.7rem 1rem;
      cursor: pointer;
      list-style: none;
      user-select: none;
    }
    .ok-card summary::-webkit-details-marker { display: none; }
    .ok-card summary .health-score { margin-left: auto; font-size: 0.9rem; font-weight: bold; }
    .ok-card summary canvas { flex-shrink: 0; }
    .ok-card[open] { border-color: #58a6ff; }
    .ok-detail { padding: 0 1rem 0.8rem; border-top: 1px solid #21262d; }
    .ok-detail .metric {
      display: flex;
      justify-content: space-between;
      padding: 0.3rem 0;
      font-size: 0.85rem;
    }

    /* Shared */
    .status-icon { margin-right: 0.3rem; }
    .health-score { font-weight: bold; }
    .badge { font-size: 0.65rem; padding: 2px 6px; border-radius: 4px; margin-left: 0.3rem; }
    .badge-nextjs { background: #000; color: #fff; border: 1px solid #333; }
    .badge-node { background: #026e00; color: #fff; }
    .badge-dotnet { background: #512bd4; color: #fff; }
    .badge-fastify { background: #000; color: #fff; }
    .badge-astro { background: #ff5d01; color: #fff; }
    .metric-label { color: #8b949e; }

    /* Trends */
    .trends {
      background: #161b22;
      border: 1px solid #30363d;
      border-radius: 8px;
      padding: 1.2rem;
      margin-bottom: 1.5rem;
    }
    .trends h2 { color: #58a6ff; font-size: 1rem; margin-bottom: 0.8rem; }
    .trends canvas { max-height: 220px; }

    /* Migration section */
    .migration {
      background: #161b22;
      border: 1px solid #30363d;
      border-radius: 8px;
      padding: 1.2rem;
      margin-bottom: 1.5rem;
    }
    .migration h2 { color: #8b5cf6; font-size: 1rem; margin-bottom: 0.8rem; }
    .migration-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 0.8rem;
      margin-bottom: 1rem;
    }
    .migration-card {
      background: #0d1117;
      border: 1px solid #21262d;
      border-radius: 6px;
      padding: 0.8rem 1rem;
    }
    .migration-card h3 {
      font-size: 0.85rem;
      color: #8b949e;
      margin-bottom: 0.5rem;
      text-transform: uppercase;
      letter-spacing: 0.03em;
    }
    .migration-stat {
      display: flex;
      justify-content: space-between;
      padding: 0.2rem 0;
      font-size: 0.85rem;
    }
    .migration-stat .val { font-weight: bold; }
    .progress-bar {
      background: #21262d;
      border-radius: 4px;
      height: 8px;
      margin-top: 0.5rem;
      overflow: hidden;
    }
    .progress-bar .fill {
      height: 100%;
      border-radius: 4px;
      transition: width 0.3s;
    }
    .module-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 0.3rem;
      margin-top: 0.5rem;
    }
    .module-chip {
      font-size: 0.7rem;
      padding: 2px 6px;
      border-radius: 4px;
      background: rgba(139,92,246,0.15);
      color: #a78bfa;
      border: 1px solid rgba(139,92,246,0.3);
    }
    .module-chip.has-cmd { border-left: 2px solid #22c55e; }
    .module-chip.has-qry { border-right: 2px solid #58a6ff; }

    /* Factory Status */
    .factory-status {
      background: #161b22;
      border: 1px solid #30363d;
      border-radius: 8px;
      padding: 1.2rem;
      margin-bottom: 1.5rem;
    }
    .factory-status h2 { color: #a855f7; font-size: 1rem; margin-bottom: 0.8rem; }
    .factory-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0.8rem;
      margin-bottom: 0.8rem;
    }
    @media (max-width: 700px) { .factory-grid { grid-template-columns: 1fr; } }
    .factory-health-card {
      background: #0d1117;
      border: 1px solid #21262d;
      border-radius: 6px;
      padding: 0.8rem 1rem;
      border-left: 3px solid;
    }
    .factory-health-indicator {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      padding: 0.5rem 0.8rem;
      border-radius: 6px;
      margin-bottom: 0.6rem;
    }
    .factory-health-detail .metric {
      display: flex;
      justify-content: space-between;
      padding: 0.25rem 0;
      font-size: 0.85rem;
    }
    .factory-stats-card {
      background: #0d1117;
      border: 1px solid #21262d;
      border-radius: 6px;
      padding: 0.8rem 1rem;
    }
    .factory-stats-card h3 {
      font-size: 0.85rem;
      color: #8b949e;
      margin-bottom: 0.5rem;
      text-transform: uppercase;
      letter-spacing: 0.03em;
    }
    .factory-stats-card .metric {
      display: flex;
      justify-content: space-between;
      padding: 0.25rem 0;
      font-size: 0.85rem;
    }
    .factory-stats-card .val { font-weight: bold; }
    .activity-timeline {
      background: #0d1117;
      border: 1px solid #21262d;
      border-radius: 6px;
      overflow: hidden;
    }
    .activity-timeline summary {
      padding: 0.7rem 1rem;
      cursor: pointer;
      color: #8b949e;
      font-size: 0.85rem;
      user-select: none;
    }
    .activity-timeline[open] { border-color: #a855f7; }
    .timeline-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.8rem;
    }
    .timeline-table td {
      padding: 0.4rem 0.6rem;
      border-top: 1px solid #21262d;
      vertical-align: middle;
    }
    .source-badge {
      font-size: 0.65rem;
      padding: 1px 6px;
      border-radius: 4px;
      white-space: nowrap;
    }

    /* Security Posture */
    .security-posture {
      background: #161b22;
      border: 1px solid #30363d;
      border-radius: 8px;
      padding: 1.2rem;
      margin-bottom: 1.5rem;
    }
    .security-posture h2 { color: #f97316; font-size: 1rem; margin-bottom: 0.8rem; }
    .security-grid {
      display: grid;
      grid-template-columns: 140px 1fr;
      gap: 0.8rem;
      align-items: start;
    }
    @media (max-width: 600px) { .security-grid { grid-template-columns: 1fr; } }
    .security-score-card {
      background: #0d1117;
      border: 1px solid #21262d;
      border-left: 3px solid;
      border-radius: 6px;
      padding: 1rem;
      text-align: center;
    }
    .security-score-value { font-size: 2rem; font-weight: bold; }
    .security-score-label { font-size: 0.75rem; color: #8b949e; margin-top: 0.2rem; }
    .security-metrics-card {
      background: #0d1117;
      border: 1px solid #21262d;
      border-radius: 6px;
      padding: 0.8rem 1rem;
    }
    .security-metric {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      padding: 0.3rem 0;
      font-size: 0.85rem;
    }
    .security-metric .metric-label { min-width: 120px; }

    /* Performance & Quality */
    .performance-posture {
      background: #161b22;
      border: 1px solid #30363d;
      border-radius: 8px;
      padding: 1.2rem;
      margin-bottom: 1.5rem;
    }
    .performance-posture h2 { color: #06b6d4; font-size: 1rem; margin-bottom: 0.8rem; }

    /* DORA Metrics */
    .dora-section {
      background: #161b22;
      border: 1px solid #30363d;
      border-radius: 8px;
      padding: 1.2rem;
      margin-bottom: 1.5rem;
    }
    .dora-section h2 { color: #a78bfa; font-size: 1rem; margin-bottom: 0.8rem; }
    .dora-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 0.6rem;
      margin-bottom: 0.8rem;
    }
    .dora-card {
      background: #0d1117;
      border: 1px solid #21262d;
      border-radius: 6px;
      padding: 0.8rem;
      text-align: center;
    }
    .dora-card .dora-value { font-size: 1.4rem; font-weight: bold; }
    .dora-card .dora-label { font-size: 0.7rem; color: #8b949e; margin-top: 0.2rem; }
    .dora-rating {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 0.7rem;
      font-weight: bold;
      text-transform: uppercase;
    }
    .dora-repo-list {
      background: #0d1117;
      border: 1px solid #21262d;
      border-radius: 6px;
      padding: 0.6rem 0.8rem;
      font-size: 0.8rem;
      max-height: 200px;
      overflow-y: auto;
    }
    .dora-repo-row {
      display: flex;
      justify-content: space-between;
      padding: 0.25rem 0;
      border-bottom: 1px solid #21262d;
    }
    .dora-repo-row:last-child { border-bottom: none; }

    /* Cost Monitor */
    .cost-section {
      background: #161b22;
      border: 1px solid #30363d;
      border-radius: 8px;
      padding: 1.2rem;
      margin-bottom: 1.5rem;
    }
    .cost-section h2 { color: #34d399; font-size: 1rem; margin-bottom: 0.8rem; }
    .cost-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 0.6rem;
      margin-bottom: 0.8rem;
    }
    .cost-card {
      background: #0d1117;
      border: 1px solid #21262d;
      border-radius: 6px;
      padding: 0.8rem;
      text-align: center;
    }
    .cost-card .cost-value { font-size: 1.4rem; font-weight: bold; }
    .cost-card .cost-label { font-size: 0.7rem; color: #8b949e; margin-top: 0.2rem; }
    .cost-recs {
      background: #0d1117;
      border: 1px solid #21262d;
      border-radius: 6px;
      padding: 0.6rem 0.8rem;
      font-size: 0.8rem;
    }
    .cost-recs ul { margin: 0; padding-left: 1.2rem; }
    .cost-recs li { padding: 0.15rem 0; color: #c9d1d9; }
    .compliance-section {
      background: #161b22;
      border: 1px solid #30363d;
      border-radius: 8px;
      padding: 1.2rem;
      margin-bottom: 1.5rem;
    }
    .compliance-section h2 { color: #f59e0b; font-size: 1rem; margin-bottom: 0.8rem; }
    .compliance-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 0.6rem;
      margin-bottom: 0.8rem;
    }
    .compliance-card {
      background: #0d1117;
      border: 1px solid #21262d;
      border-radius: 6px;
      padding: 0.8rem;
      text-align: center;
    }
    .compliance-card .compliance-value { font-size: 1.4rem; font-weight: bold; }
    .compliance-card .compliance-label { font-size: 0.7rem; color: #8b949e; margin-top: 0.2rem; }
    .compliance-gaps {
      background: #0d1117;
      border: 1px solid #21262d;
      border-radius: 6px;
      padding: 0.6rem 0.8rem;
      font-size: 0.8rem;
    }
    .compliance-gaps ul { margin: 0; padding-left: 1.2rem; }
    .compliance-gaps li { padding: 0.15rem 0; color: #c9d1d9; }
    .rec-section {
      background: #161b22;
      border: 1px solid #30363d;
      border-radius: 8px;
      padding: 1.2rem;
      margin-bottom: 1.5rem;
    }
    .rec-section h2 { color: #3b82f6; font-size: 1rem; margin-bottom: 0.8rem; }
    .rec-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      gap: 0.6rem;
      margin-bottom: 0.8rem;
    }
    .rec-card {
      background: #0d1117;
      border: 1px solid #21262d;
      border-radius: 6px;
      padding: 0.8rem;
      text-align: center;
    }
    .rec-card .rec-value { font-size: 1.4rem; font-weight: bold; }
    .rec-card .rec-label { font-size: 0.7rem; color: #8b949e; margin-top: 0.2rem; }
    .rec-gaps {
      background: #0d1117;
      border: 1px solid #21262d;
      border-radius: 6px;
      padding: 0.6rem 0.8rem;
      font-size: 0.8rem;
    }
    .rec-gaps ul { margin: 0; padding-left: 1.2rem; }
    .rec-gaps li { padding: 0.15rem 0; color: #c9d1d9; }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4/dist/chart.umd.min.js"></script>
</head>
<body>
  <div class="header">
    <h1>DevOps Factory Dashboard</h1>
    <div class="timestamp">Last updated: 24-02-2026 19:51 CET</div>
  </div>

  <div class="summary">
    <div class="summary-item">
      <div class="number">16</div>
      <div class="label">Projects</div>
    </div>
    <div class="summary-item">
      <div class="number" style="color: #ef4444">48</div>
      <div class="label">Avg Health</div>
    </div>
    <div class="summary-item">
      <div class="number" style="color: #22c55e">0</div>
      <div class="label">Failing CI</div>
    </div>
    <div class="summary-item">
      <div class="number" style="color: #22c55e">0</div>
      <div class="label">AI Fixes</div>
    </div>
    <div class="summary-item">
      <div class="number" style="color: #ef4444">0%</div>
      <div class="label">Security</div>
    </div>
    <div class="summary-item">
      <div class="number" style="color: #ef4444">0%</div>
      <div class="label">Review Coverage</div>
    </div>
    <div class="summary-item">
      <div class="number" style="color: #ef4444">1%</div>
      <div class="label">Quality</div>
    </div>
  </div>

  
  <div class="factory-status">
    <h2>Factory Status</h2>
    <div class="factory-grid">
      <div class="factory-health-card" style="border-color:#f59e0b">
        <div class="factory-health-indicator" style="background:#f59e0b20;color:#f59e0b">
          <span style="font-size:1.4rem">&#9888;&#65039;</span>
          <span style="font-weight:bold;font-size:1.1rem">Warnings</span>
        </div>
        <div class="factory-health-detail">
          <div class="metric"><span class="metric-label">Last activity</span><span>just now</span></div>
          <div class="metric"><span class="metric-label">Events (24h)</span><span>216</span></div>
          <div class="metric"><span class="metric-label">Errors (24h)</span><span style="color:#22c55e">0</span></div>
          <div class="metric"><span class="metric-label">Warnings (24h)</span><span style="color:#f59e0b">8</span></div>
        </div>
      </div>

      <div class="factory-stats-card">
        <h3>This Week</h3>
        <div class="metric"><span class="metric-label">Scans completed</span><span class="val">1</span></div>
        <div class="metric"><span class="metric-label">PRs created</span><span class="val">0</span></div>
        <div class="metric"><span class="metric-label">Self-heals triggered</span><span class="val">3</span></div>
        <div class="metric"><span class="metric-label">Errors detected</span><span class="val" style="color:#22c55e">0</span></div>
        <div class="metric"><span class="metric-label">Total events (30d)</span><span class="val">962</span></div>
      </div>
    </div>

    <details class="activity-timeline" >
      <summary>Recent Activity (30 events)</summary>
      <table class="timeline-table">
        <tbody>
          
            <tr>
              <td style="color:#6e7681;white-space:nowrap;font-size:0.75rem" title="2026-02-24T18:51:11.229Z">just now</td>
              <td><span class="source-badge" style="background:#58a6ff20;color:#58a6ff;border:1px solid #58a6ff40">Scanner</span></td>
              <td style="color:#22c55e">&#9989;</td>
              <td>Scanned 25 repos (17 active)</td>
            </tr>
            <tr>
              <td style="color:#6e7681;white-space:nowrap;font-size:0.75rem" title="2026-02-24T18:51:11.219Z">just now</td>
              <td><span class="source-badge" style="background:#58a6ff20;color:#58a6ff;border:1px solid #58a6ff40">Scanner</span></td>
              <td style="color:#8b949e">&#8505;&#65039;</td>
              <td><strong>Utilitaire_Webapp</strong> - PR #1 already open</td>
            </tr>
            <tr>
              <td style="color:#6e7681;white-space:nowrap;font-size:0.75rem" title="2026-02-24T18:51:07.579Z">just now</td>
              <td><span class="source-badge" style="background:#58a6ff20;color:#58a6ff;border:1px solid #58a6ff40">Scanner</span></td>
              <td style="color:#8b949e">&#8505;&#65039;</td>
              <td><strong>Thumbfast</strong> - PR #1 already open</td>
            </tr>
            <tr>
              <td style="color:#6e7681;white-space:nowrap;font-size:0.75rem" title="2026-02-24T18:51:04.219Z">just now</td>
              <td><span class="source-badge" style="background:#58a6ff20;color:#58a6ff;border:1px solid #58a6ff40">Scanner</span></td>
              <td style="color:#8b949e">&#8505;&#65039;</td>
              <td><strong>test_codingmenace</strong> - PR #1 already open</td>
            </tr>
            <tr>
              <td style="color:#6e7681;white-space:nowrap;font-size:0.75rem" title="2026-02-24T18:51:00.800Z">just now</td>
              <td><span class="source-badge" style="background:#58a6ff20;color:#58a6ff;border:1px solid #58a6ff40">Scanner</span></td>
              <td style="color:#8b949e">&#8505;&#65039;</td>
              <td><strong>statusline</strong> - PR #1 already open</td>
            </tr>
            <tr>
              <td style="color:#6e7681;white-space:nowrap;font-size:0.75rem" title="2026-02-24T18:50:57.097Z">just now</td>
              <td><span class="source-badge" style="background:#58a6ff20;color:#58a6ff;border:1px solid #58a6ff40">Scanner</span></td>
              <td style="color:#8b949e">&#8505;&#65039;</td>
              <td><strong>SqlConnectionTest</strong> - PR #1 already open</td>
            </tr>
            <tr>
              <td style="color:#6e7681;white-space:nowrap;font-size:0.75rem" title="2026-02-24T18:50:54.464Z">just now</td>
              <td><span class="source-badge" style="background:#58a6ff20;color:#58a6ff;border:1px solid #58a6ff40">Scanner</span></td>
              <td style="color:#8b949e">&#8505;&#65039;</td>
              <td><strong>Site_Greg-Assainissement</strong> - PR #1 already open</td>
            </tr>
            <tr>
              <td style="color:#6e7681;white-space:nowrap;font-size:0.75rem" title="2026-02-24T18:50:51.000Z">just now</td>
              <td><span class="source-badge" style="background:#58a6ff20;color:#58a6ff;border:1px solid #58a6ff40">Scanner</span></td>
              <td style="color:#8b949e">&#8505;&#65039;</td>
              <td><strong>Site_1970_Plomberie</strong> - PR #1 already open</td>
            </tr>
            <tr>
              <td style="color:#6e7681;white-space:nowrap;font-size:0.75rem" title="2026-02-24T18:50:39.927Z">1m ago</td>
              <td><span class="source-badge" style="background:#58a6ff20;color:#58a6ff;border:1px solid #58a6ff40">Scanner</span></td>
              <td style="color:#8b949e">&#8505;&#65039;</td>
              <td><strong>MCP_Quota_Claude</strong> - PR #1 already open</td>
            </tr>
            <tr>
              <td style="color:#6e7681;white-space:nowrap;font-size:0.75rem" title="2026-02-24T18:50:36.407Z">1m ago</td>
              <td><span class="source-badge" style="background:#58a6ff20;color:#58a6ff;border:1px solid #58a6ff40">Scanner</span></td>
              <td style="color:#8b949e">&#8505;&#65039;</td>
              <td><strong>magic-migration</strong> - PR #1 already open</td>
            </tr>
            <tr>
              <td style="color:#6e7681;white-space:nowrap;font-size:0.75rem" title="2026-02-24T18:50:32.928Z">1m ago</td>
              <td><span class="source-badge" style="background:#58a6ff20;color:#58a6ff;border:1px solid #58a6ff40">Scanner</span></td>
              <td style="color:#8b949e">&#8505;&#65039;</td>
              <td><strong>Livret_accueil_Au-Marais</strong> - PR #1 already open</td>
            </tr>
            <tr>
              <td style="color:#6e7681;white-space:nowrap;font-size:0.75rem" title="2026-02-24T18:50:29.731Z">1m ago</td>
              <td><span class="source-badge" style="background:#58a6ff20;color:#58a6ff;border:1px solid #58a6ff40">Scanner</span></td>
              <td style="color:#8b949e">&#8505;&#65039;</td>
              <td><strong>livret-au-marais</strong> - PR #1 already open</td>
            </tr>
            <tr>
              <td style="color:#6e7681;white-space:nowrap;font-size:0.75rem" title="2026-02-24T18:50:26.219Z">1m ago</td>
              <td><span class="source-badge" style="background:#58a6ff20;color:#58a6ff;border:1px solid #58a6ff40">Scanner</span></td>
              <td style="color:#8b949e">&#8505;&#65039;</td>
              <td><strong>Email_Assistant</strong> - PR #7 already open</td>
            </tr>
            <tr>
              <td style="color:#6e7681;white-space:nowrap;font-size:0.75rem" title="2026-02-24T18:50:22.257Z">1m ago</td>
              <td><span class="source-badge" style="background:#58a6ff20;color:#58a6ff;border:1px solid #58a6ff40">Scanner</span></td>
              <td style="color:#8b949e">&#8505;&#65039;</td>
              <td><strong>ClubMedRoomAssignment</strong> - PR #12 already open</td>
            </tr>
            <tr>
              <td style="color:#6e7681;white-space:nowrap;font-size:0.75rem" title="2026-02-24T18:50:16.076Z">1m ago</td>
              <td><span class="source-badge" style="background:#58a6ff20;color:#58a6ff;border:1px solid #58a6ff40">Scanner</span></td>
              <td style="color:#8b949e">&#8505;&#65039;</td>
              <td><strong>claude-launcher</strong> - PR #1 already open</td>
            </tr>
            <tr>
              <td style="color:#6e7681;white-space:nowrap;font-size:0.75rem" title="2026-02-24T18:50:08.643Z">1m ago</td>
              <td><span class="source-badge" style="background:#58a6ff20;color:#58a6ff;border:1px solid #58a6ff40">Scanner</span></td>
              <td style="color:#8b949e">&#8505;&#65039;</td>
              <td><strong>claude-cli-wrapper</strong> - PR #1 already open</td>
            </tr>
            <tr>
              <td style="color:#6e7681;white-space:nowrap;font-size:0.75rem" title="2026-02-24T18:50:04.989Z">1m ago</td>
              <td><span class="source-badge" style="background:#58a6ff20;color:#58a6ff;border:1px solid #58a6ff40">Scanner</span></td>
              <td style="color:#8b949e">&#8505;&#65039;</td>
              <td><strong>CasaSync</strong> - PR #1 already open</td>
            </tr>
            <tr>
              <td style="color:#6e7681;white-space:nowrap;font-size:0.75rem" title="2026-02-24T18:49:58.341Z">1m ago</td>
              <td><span class="source-badge" style="background:#58a6ff20;color:#58a6ff;border:1px solid #58a6ff40">Scanner</span></td>
              <td style="color:#8b949e">&#8505;&#65039;</td>
              <td><strong>au-marais</strong> - PR #3 already open</td>
            </tr>
            <tr>
              <td style="color:#6e7681;white-space:nowrap;font-size:0.75rem" title="2026-02-24T17:55:27.100Z">56m ago</td>
              <td><span class="source-badge" style="background:#f9731620;color:#f97316;border:1px solid #f9731640">CI Health</span></td>
              <td style="color:#f59e0b">&#9888;&#65039;</td>
              <td>3/7 passing, 2 failing. Issues: 0 created, 0 closed</td>
            </tr>
            <tr>
              <td style="color:#6e7681;white-space:nowrap;font-size:0.75rem" title="2026-02-24T17:55:27.097Z">56m ago</td>
              <td><span class="source-badge" style="background:#f9731620;color:#f97316;border:1px solid #f9731640">CI Health</span></td>
              <td style="color:#f59e0b">&#9888;&#65039;</td>
              <td><strong>ClubMedRoomAssignment</strong> - Self-heal dispatched (run 22192523507)</td>
            </tr>
        </tbody>
      </table>
    </details>
  </div>

  
  <div class="security-posture">
    <h2>Security &amp; Review Posture</h2>
    <div class="security-grid">
      <div class="security-score-card" style="border-color:#ef4444">
        <div class="security-score-value" style="color:#ef4444">0%</div>
        <div class="security-score-label">Avg Security Score</div>
      </div>
      <div class="security-metrics-card">
        <div class="security-metric"><span class="metric-label">Secret scanning</span><div class="progress-bar" style="flex:1"><div class="fill" style="width:0%;background:#ef4444"></div></div><span style="font-size:0.75rem;color:#8b949e;min-width:40px;text-align:right">0/16</span></div>
        <div class="security-metric"><span class="metric-label">SAST (Semgrep)</span><div class="progress-bar" style="flex:1"><div class="fill" style="width:0%;background:#ef4444"></div></div><span style="font-size:0.75rem;color:#8b949e;min-width:40px;text-align:right">0/16</span></div>
        <div class="security-metric"><span class="metric-label">Supply chain</span><div class="progress-bar" style="flex:1"><div class="fill" style="width:0%;background:#ef4444"></div></div><span style="font-size:0.75rem;color:#8b949e;min-width:40px;text-align:right">0/16</span></div>
        <div class="security-metric"><span class="metric-label">License check</span><div class="progress-bar" style="flex:1"><div class="fill" style="width:0%;background:#ef4444"></div></div><span style="font-size:0.75rem;color:#8b949e;min-width:40px;text-align:right">0/16</span></div>
        <div class="security-metric"><span class="metric-label">AI code review</span><div class="progress-bar" style="flex:1"><div class="fill" style="width:0%;background:#ef4444"></div></div><span style="font-size:0.75rem;color:#8b949e;min-width:40px;text-align:right">0/16</span></div>
      </div>
    </div>
  </div>

  
  <div class="performance-posture">
    <h2>Performance &amp; Quality</h2>
    <div class="security-grid">
      <div class="security-score-card" style="border-color:#ef4444">
        <div class="security-score-value" style="color:#ef4444">1%</div>
        <div class="security-score-label">Avg Quality Score</div>
      </div>
      <div class="security-metrics-card">
        <div class="security-metric"><span class="metric-label">Perf budgets</span><div class="progress-bar" style="flex:1"><div class="fill" style="width:0%;background:#ef4444"></div></div><span style="font-size:0.75rem;color:#8b949e;min-width:40px;text-align:right">0/16</span></div>
        <div class="security-metric"><span class="metric-label">Accessibility</span><div class="progress-bar" style="flex:1"><div class="fill" style="width:0%;background:#ef4444"></div></div><span style="font-size:0.75rem;color:#8b949e;min-width:40px;text-align:right">0/16</span></div>
        <div class="security-metric"><span class="metric-label">Coverage tracking</span><div class="progress-bar" style="flex:1"><div class="fill" style="width:6%;background:#ef4444"></div></div><span style="font-size:0.75rem;color:#8b949e;min-width:40px;text-align:right">1/16</span></div>
        <div class="security-metric"><span class="metric-label">Auto docs/changelog</span><div class="progress-bar" style="flex:1"><div class="fill" style="width:0%;background:#ef4444"></div></div><span style="font-size:0.75rem;color:#8b949e;min-width:40px;text-align:right">0/16</span></div>
        <div class="security-metric"><span class="metric-label">Release mgmt</span><div class="progress-bar" style="flex:1"><div class="fill" style="width:0%;background:#ef4444"></div></div><span style="font-size:0.75rem;color:#8b949e;min-width:40px;text-align:right">0/16</span></div>
      </div>
    </div>
  </div>

  
  <div class="dora-section">
    <h2>DORA Metrics</h2>
    <div class="dora-grid">
      <div class="dora-card" style="border-left:3px solid #f59e0b">
        <div class="dora-value" style="color:#f59e0b">MEDIUM</div>
        <div class="dora-label">Overall Rating</div>
      </div>
      <div class="dora-card">
        <div class="dora-value" style="color:#a78bfa">0</div>
        <div class="dora-label">Deploys/week</div>
      </div>
      <div class="dora-card">
        <div class="dora-value" style="color:#a78bfa">132.7h</div>
        <div class="dora-label">Lead Time</div>
      </div>
      <div class="dora-card">
        <div class="dora-value" style="color:#a78bfa">0h</div>
        <div class="dora-label">MTTR</div>
      </div>
      <div class="dora-card">
        <div class="dora-value" style="color:#ef4444">53%</div>
        <div class="dora-label">Change Fail Rate</div>
      </div>
    </div>
    <div style="font-size:0.75rem;color:#8b949e;margin-bottom:0.4rem">
      0 elite, 1 high, 5 medium, 0 low (6 repos)
    </div>
    <div class="dora-repo-list"><div class="dora-repo-row">
        <span>au-marais</span>
        <span><span class="dora-rating" style="background:#f59e0b30;color:#f59e0b">medium</span></span>
        <span style="color:#8b949e">0/wk</span>
        <span style="color:#8b949e">264.7h</span>
        <span style="color:#8b949e">0%</span>
      </div><div class="dora-repo-row">
        <span>CasaSync</span>
        <span><span class="dora-rating" style="background:#f59e0b30;color:#f59e0b">medium</span></span>
        <span style="color:#8b949e">0/wk</span>
        <span style="color:#8b949e">0h</span>
        <span style="color:#8b949e">36%</span>
      </div><div class="dora-repo-row">
        <span>ClubMedRoomAssignment</span>
        <span><span class="dora-rating" style="background:#f59e0b30;color:#f59e0b">medium</span></span>
        <span style="color:#8b949e">0/wk</span>
        <span style="color:#8b949e">0h</span>
        <span style="color:#8b949e">100%</span>
      </div><div class="dora-repo-row">
        <span>Email_Assistant</span>
        <span><span class="dora-rating" style="background:#3b82f630;color:#3b82f6">high</span></span>
        <span style="color:#8b949e">0/wk</span>
        <span style="color:#8b949e">0.6h</span>
        <span style="color:#8b949e">9%</span>
      </div><div class="dora-repo-row">
        <span>livret-au-marais</span>
        <span><span class="dora-rating" style="background:#f59e0b30;color:#f59e0b">medium</span></span>
        <span style="color:#8b949e">0/wk</span>
        <span style="color:#8b949e">0h</span>
        <span style="color:#8b949e">89%</span>
      </div><div class="dora-repo-row">
        <span>Utilitaire_Webapp</span>
        <span><span class="dora-rating" style="background:#f59e0b30;color:#f59e0b">medium</span></span>
        <span style="color:#8b949e">0/wk</span>
        <span style="color:#8b949e">0h</span>
        <span style="color:#8b949e">83%</span>
      </div></div>
  </div>

  
  <div class="cost-section">
    <h2>CI Cost Monitor</h2>
    <div class="cost-grid">
      <div class="cost-card">
        <div class="cost-value" style="color:#34d399">573</div>
        <div class="cost-label">Minutes (30d)</div>
      </div>
      <div class="cost-card">
        <div class="cost-value" style="color:#34d399">281</div>
        <div class="cost-label">Total Runs</div>
      </div>
      <div class="cost-card">
        <div class="cost-value" style="color:#ef4444">210</div>
        <div class="cost-label">Wasted min (37%)</div>
      </div>
      <div class="cost-card">
        <div class="cost-value" style="color:#22c55e">29%</div>
        <div class="cost-label">Free tier used</div>
      </div>
      <div class="cost-card">
        <div class="cost-value" style="color:#22c55e">$0</div>
        <div class="cost-label">Est. cost/mo</div>
      </div>
    </div>
    <div style="font-size:0.75rem;color:#8b949e;margin-bottom:0.4rem">
      Most expensive: Email_Assistant | 7 optimization(s) found
    </div>
    <div class="cost-recs"><strong style="color:#8b949e">Top recommendations:</strong><ul><li>CI: 38% failure rate (46min wasted). Fix root cause.</li><li>Deploy Migration Dashboard: 86% failure rate (65min wasted). Fix root cause.</li><li>Deploy Migration Dashboard: 76 very short runs. Consider concurrency groups or debouncing.</li><li>CI: 89% failure rate (47min wasted). Fix root cause.</li><li>CI: 100% failure rate (32min wasted). Fix root cause.</li></ul></div>
  </div>

  
  <div class="compliance-section">
    <h2>Compliance &amp; Audit</h2>
    <div class="compliance-grid">
      <div class="compliance-card">
        <div class="compliance-value" style="color:#ef4444">8</div>
        <div class="compliance-label">Avg Score /100</div>
      </div>
      <div class="compliance-card">
        <div class="compliance-value" style="color:#f59e0b">9</div>
        <div class="compliance-label">PRs Merged (30d)</div>
      </div>
      <div class="compliance-card">
        <div class="compliance-value" style="color:#ef4444">0%</div>
        <div class="compliance-label">Review Coverage</div>
      </div>
      <div class="compliance-card">
        <div class="compliance-value" style="color:#a78bfa">61</div>
        <div class="compliance-label">Deployments</div>
      </div>
      <div class="compliance-card">
        <div class="compliance-value" style="color:#22c55e">0</div>
        <div class="compliance-label">Branch Protected</div>
      </div>
    </div>
    <div style="font-size:0.75rem;color:#8b949e;margin-bottom:0.4rem">
      Period: 30-day window | 7/17 repos with CI
    </div>
    <div class="compliance-gaps"><strong style="color:#8b949e">Compliance gaps:</strong><ul><li>au-marais: no branch protection</li><li>au-marais: compliance score 20/100</li><li>CasaSync: no branch protection</li><li>CasaSync: compliance score 20/100</li><li>ClubMedRoomAssignment: no branch protection</li><li>ClubMedRoomAssignment: compliance score 20/100</li></ul></div>
  </div>

  
  <div class="rec-section">
    <h2>Smart Recommendations</h2>
    <div class="rec-grid">
      <div class="rec-card">
        <div class="rec-value" style="color:#ef4444">11</div>
        <div class="rec-label">Critical</div>
      </div>
      <div class="rec-card">
        <div class="rec-value" style="color:#f59e0b">155</div>
        <div class="rec-label">High</div>
      </div>
      <div class="rec-card">
        <div class="rec-value" style="color:#3b82f6">32</div>
        <div class="rec-label">Medium</div>
      </div>
      <div class="rec-card">
        <div class="rec-value" style="color:#6b7280">26</div>
        <div class="rec-label">Low</div>
      </div>
      <div class="rec-card">
        <div class="rec-value" style="color:#22c55e">224</div>
        <div class="rec-label">Total</div>
      </div>
    </div>
    <div style="font-size:0.75rem;color:#8b949e;margin-bottom:0.4rem">
      Most needed template: gitleaks.yml | Most actions: au-marais
    </div>
    <div class="rec-gaps"><strong style="color:#ef4444">Critical actions:</strong><ul><li>Livret_accueil_Au-Marais: No CI workflow detected</li><li>Site_Greg-Assainissement: No CI workflow detected</li><li>test_codingmenace: No CI workflow detected</li><li>Thumbfast: No CI workflow detected</li><li>claude-cli-wrapper: No CI workflow detected</li></ul></div>
  </div>

  

  
  <div class="alerts">
    <div class="section-title alert">Needs Attention (1)</div>
    
    <div class="alert-card" style="border-left-color: #f59e0b">
      <div class="alert-header">
        <div>
          <span class="status-icon">&#9989;</span>
          <strong>Utilitaire_Webapp</strong>
          <span class="badge badge-node">node</span>
        </div>
        <div class="health-score" style="color: #ef4444">49</div>
      </div>
      <ul class="issue-list">
        <li>6 open PRs (backlog growing)</li>
      </ul>
    </div>
  </div>

  <div class="ok-section">
    <div class="section-title">Healthy (15)</div>
    <div class="ok-grid">
      
    <details class="ok-card">
      <summary>
        <span class="status-icon">&#9989;</span>
        <strong>au-marais</strong>
        <span class="badge badge-nextjs">nextjs</span>
        <span class="health-score" style="color: #ef4444">59</span>
        <canvas data-sparkline="au-marais" width="60" height="20"></canvas>
      </summary>
      <div class="ok-detail">
        <div class="metric"><span class="metric-label">CI</span><span>pass <a href="https://github.com/thonyAGP/au-marais/actions/runs/21775816387" target="_blank">(view)</a></span></div>
        <div class="metric"><span class="metric-label">Open PRs</span><span>1</span></div>
        <div class="metric"><span class="metric-label">Security</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
        <div class="metric"><span class="metric-label">Review</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Quality</span><span>Husky</span></div>
        <div class="metric"><span class="metric-label">Perf/A11y</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
      </div>
    </details>

    <details class="ok-card">
      <summary>
        <span class="status-icon">&#9989;</span>
        <strong>CasaSync</strong>
        <span class="badge badge-nextjs">nextjs</span>
        <span class="health-score" style="color: #ef4444">54</span>
        <canvas data-sparkline="CasaSync" width="60" height="20"></canvas>
      </summary>
      <div class="ok-detail">
        <div class="metric"><span class="metric-label">CI</span><span>pass <a href="https://github.com/thonyAGP/CasaSync/actions/runs/22132524981" target="_blank">(view)</a></span></div>
        <div class="metric"><span class="metric-label">Open PRs</span><span>3</span></div>
        <div class="metric"><span class="metric-label">Security</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
        <div class="metric"><span class="metric-label">Review</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Quality</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Perf/A11y</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
      </div>
    </details>

    <details class="ok-card">
      <summary>
        <span class="status-icon">&#9898;</span>
        <strong>claude-cli-wrapper</strong>
        <span class="badge badge-node">node</span>
        <span class="health-score" style="color: #ef4444">44</span>
        <canvas data-sparkline="claude-cli-wrapper" width="60" height="20"></canvas>
      </summary>
      <div class="ok-detail">
        <div class="metric"><span class="metric-label">CI</span><span>none</span></div>
        <div class="metric"><span class="metric-label">Open PRs</span><span>2</span></div>
        <div class="metric"><span class="metric-label">Security</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
        <div class="metric"><span class="metric-label">Review</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Quality</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Perf/A11y</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
      </div>
    </details>

    <details class="ok-card">
      <summary>
        <span class="status-icon">&#9898;</span>
        <strong>claude-launcher</strong>
        <span class="badge badge-dotnet">dotnet</span>
        <span class="health-score" style="color: #ef4444">44</span>
        <canvas data-sparkline="claude-launcher" width="60" height="20"></canvas>
      </summary>
      <div class="ok-detail">
        <div class="metric"><span class="metric-label">CI</span><span>none</span></div>
        <div class="metric"><span class="metric-label">Open PRs</span><span>1</span></div>
        <div class="metric"><span class="metric-label">Security</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
        <div class="metric"><span class="metric-label">Review</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Quality</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Perf/A11y</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
      </div>
    </details>

    <details class="ok-card">
      <summary>
        <span class="status-icon">&#9989;</span>
        <strong>Email_Assistant</strong>
        <span class="badge badge-node">node</span>
        <span class="health-score" style="color: #ef4444">59</span>
        <canvas data-sparkline="Email_Assistant" width="60" height="20"></canvas>
      </summary>
      <div class="ok-detail">
        <div class="metric"><span class="metric-label">CI</span><span>pass <a href="https://github.com/thonyAGP/Email_Assistant/actions/runs/22351759975" target="_blank">(view)</a></span></div>
        <div class="metric"><span class="metric-label">Open PRs</span><span>2</span></div>
        <div class="metric"><span class="metric-label">Security</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
        <div class="metric"><span class="metric-label">Review</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Quality</span><span>Husky</span></div>
        <div class="metric"><span class="metric-label">Perf/A11y</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
      </div>
    </details>

    <details class="ok-card">
      <summary>
        <span class="status-icon">&#9898;</span>
        <strong>Livret_accueil_Au-Marais</strong>
        <span class="badge badge-nextjs">nextjs</span>
        <span class="health-score" style="color: #ef4444">44</span>
        <canvas data-sparkline="Livret_accueil_Au-Marais" width="60" height="20"></canvas>
      </summary>
      <div class="ok-detail">
        <div class="metric"><span class="metric-label">CI</span><span>none</span></div>
        <div class="metric"><span class="metric-label">Open PRs</span><span>1</span></div>
        <div class="metric"><span class="metric-label">Security</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
        <div class="metric"><span class="metric-label">Review</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Quality</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Perf/A11y</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
      </div>
    </details>

    <details class="ok-card">
      <summary>
        <span class="status-icon">&#9989;</span>
        <strong>livret-au-marais</strong>
        <span class="badge badge-nextjs">nextjs</span>
        <span class="health-score" style="color: #ef4444">59</span>
        <canvas data-sparkline="livret-au-marais" width="60" height="20"></canvas>
      </summary>
      <div class="ok-detail">
        <div class="metric"><span class="metric-label">CI</span><span>pass <a href="https://github.com/thonyAGP/livret-au-marais/actions/runs/22132234016" target="_blank">(view)</a></span></div>
        <div class="metric"><span class="metric-label">Open PRs</span><span>1</span></div>
        <div class="metric"><span class="metric-label">Security</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
        <div class="metric"><span class="metric-label">Review</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Quality</span><span>Husky</span></div>
        <div class="metric"><span class="metric-label">Perf/A11y</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
      </div>
    </details>

    <details class="ok-card">
      <summary>
        <span class="status-icon">&#9898;</span>
        <strong>magic-migration</strong>
        <span class="badge badge-node">node</span>
        <span class="health-score" style="color: #ef4444">52</span>
        <canvas data-sparkline="magic-migration" width="60" height="20"></canvas>
      </summary>
      <div class="ok-detail">
        <div class="metric"><span class="metric-label">CI</span><span>none <a href="https://github.com/thonyAGP/magic-migration/actions/runs/22343270674" target="_blank">(view)</a></span></div>
        <div class="metric"><span class="metric-label">Open PRs</span><span>1</span></div>
        <div class="metric"><span class="metric-label">Security</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
        <div class="metric"><span class="metric-label">Review</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Quality</span><span>Husky</span></div>
        <div class="metric"><span class="metric-label">Perf/A11y</span><span style="color:#ef4444">20% <small>(cov)</small></span></div>
      </div>
    </details>

    <details class="ok-card">
      <summary>
        <span class="status-icon">&#9898;</span>
        <strong>MCP_Quota_Claude</strong>
        <span class="badge badge-node">node</span>
        <span class="health-score" style="color: #ef4444">44</span>
        <canvas data-sparkline="MCP_Quota_Claude" width="60" height="20"></canvas>
      </summary>
      <div class="ok-detail">
        <div class="metric"><span class="metric-label">CI</span><span>none</span></div>
        <div class="metric"><span class="metric-label">Open PRs</span><span>2</span></div>
        <div class="metric"><span class="metric-label">Security</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
        <div class="metric"><span class="metric-label">Review</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Quality</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Perf/A11y</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
      </div>
    </details>

    <details class="ok-card">
      <summary>
        <span class="status-icon">&#9898;</span>
        <strong>Site_1970_Plomberie</strong>
        <span class="badge badge-node">node</span>
        <span class="health-score" style="color: #ef4444">44</span>
        <canvas data-sparkline="Site_1970_Plomberie" width="60" height="20"></canvas>
      </summary>
      <div class="ok-detail">
        <div class="metric"><span class="metric-label">CI</span><span>none</span></div>
        <div class="metric"><span class="metric-label">Open PRs</span><span>1</span></div>
        <div class="metric"><span class="metric-label">Security</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
        <div class="metric"><span class="metric-label">Review</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Quality</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Perf/A11y</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
      </div>
    </details>

    <details class="ok-card">
      <summary>
        <span class="status-icon">&#9898;</span>
        <strong>Site_Greg-Assainissement</strong>
        <span class="badge badge-nextjs">nextjs</span>
        <span class="health-score" style="color: #ef4444">44</span>
        <canvas data-sparkline="Site_Greg-Assainissement" width="60" height="20"></canvas>
      </summary>
      <div class="ok-detail">
        <div class="metric"><span class="metric-label">CI</span><span>none</span></div>
        <div class="metric"><span class="metric-label">Open PRs</span><span>2</span></div>
        <div class="metric"><span class="metric-label">Security</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
        <div class="metric"><span class="metric-label">Review</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Quality</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Perf/A11y</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
      </div>
    </details>

    <details class="ok-card">
      <summary>
        <span class="status-icon">&#9898;</span>
        <strong>SqlConnectionTest</strong>
        <span class="badge badge-dotnet">dotnet</span>
        <span class="health-score" style="color: #ef4444">44</span>
        <canvas data-sparkline="SqlConnectionTest" width="60" height="20"></canvas>
      </summary>
      <div class="ok-detail">
        <div class="metric"><span class="metric-label">CI</span><span>none</span></div>
        <div class="metric"><span class="metric-label">Open PRs</span><span>1</span></div>
        <div class="metric"><span class="metric-label">Security</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
        <div class="metric"><span class="metric-label">Review</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Quality</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Perf/A11y</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
      </div>
    </details>

    <details class="ok-card">
      <summary>
        <span class="status-icon">&#9898;</span>
        <strong>statusline</strong>
        <span class="badge badge-node">node</span>
        <span class="health-score" style="color: #ef4444">44</span>
        <canvas data-sparkline="statusline" width="60" height="20"></canvas>
      </summary>
      <div class="ok-detail">
        <div class="metric"><span class="metric-label">CI</span><span>none</span></div>
        <div class="metric"><span class="metric-label">Open PRs</span><span>2</span></div>
        <div class="metric"><span class="metric-label">Security</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
        <div class="metric"><span class="metric-label">Review</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Quality</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Perf/A11y</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
      </div>
    </details>

    <details class="ok-card">
      <summary>
        <span class="status-icon">&#9898;</span>
        <strong>test_codingmenace</strong>
        <span class="badge badge-nextjs">nextjs</span>
        <span class="health-score" style="color: #ef4444">44</span>
        <canvas data-sparkline="test_codingmenace" width="60" height="20"></canvas>
      </summary>
      <div class="ok-detail">
        <div class="metric"><span class="metric-label">CI</span><span>none</span></div>
        <div class="metric"><span class="metric-label">Open PRs</span><span>1</span></div>
        <div class="metric"><span class="metric-label">Security</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
        <div class="metric"><span class="metric-label">Review</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Quality</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Perf/A11y</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
      </div>
    </details>

    <details class="ok-card">
      <summary>
        <span class="status-icon">&#9898;</span>
        <strong>Thumbfast</strong>
        <span class="badge badge-nextjs">nextjs</span>
        <span class="health-score" style="color: #ef4444">44</span>
        <canvas data-sparkline="Thumbfast" width="60" height="20"></canvas>
      </summary>
      <div class="ok-detail">
        <div class="metric"><span class="metric-label">CI</span><span>none</span></div>
        <div class="metric"><span class="metric-label">Open PRs</span><span>2</span></div>
        <div class="metric"><span class="metric-label">Security</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
        <div class="metric"><span class="metric-label">Review</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Quality</span><span>None</span></div>
        <div class="metric"><span class="metric-label">Perf/A11y</span><span style="color:#ef4444">0% <small>(none)</small></span></div>
      </div>
    </details>
    </div>
  </div>

  <div class="trends">
    <h2>Health Trends (30 days)</h2>
    <canvas id="trendsChart"></canvas>
  </div>

  
  <div class="migration">
    <h2>Lecteur Magic Migration (2026-02-23)</h2>
    <div class="migration-grid">
      <div class="migration-card">
        <h3>Overall Progress</h3>
        <div class="migration-stat"><span>Progress</span><span class="val" style="color:#22c55e">86%</span></div>
        <div class="progress-bar"><div class="fill" style="width:86%;background:#22c55e"></div></div>
        <div class="migration-stat" style="margin-top:0.4rem"><span>Total files</span><span class="val">12437</span></div>
      </div>
      <div class="migration-card">
        <h3>Backend (Caisse.API)</h3>
        <div class="migration-stat"><span>CQRS Modules</span><span class="val">27</span></div>
        <div class="migration-stat"><span>Handlers</span><span class="val">139</span></div>
        <div class="migration-stat"><span>Domain entities</span><span class="val">39</span></div>
        <div class="migration-stat"><span>C# files</span><span class="val">282</span></div>
      </div>
      <div class="migration-card">
        <h3>Tests</h3>
        <div class="migration-stat"><span>Test files</span><span class="val">44</span></div>
        <div class="migration-stat"><span>Est. tests</span><span class="val">~132</span></div>
        <div class="progress-bar"><div class="fill" style="width:66%;background:#58a6ff"></div></div>
      </div>
      <div class="migration-card">
        <h3>Frontend (adh-web)</h3>
        <div class="migration-stat"><span>React components</span><span class="val">456</span></div>
        <div class="migration-stat"><span>TS files</span><span class="val">825</span></div>
        <div class="migration-stat"><span>HTML prototypes</span><span class="val">15</span></div>
        <div class="migration-stat"><span>Storybook</span><span class="val">Yes</span></div>
      </div>
      <div class="migration-card">
        <h3>OpenSpec</h3>
        <div class="migration-stat"><span>Total specs</span><span class="val">8088</span></div>
        <div class="migration-stat"><span>Annotated</span><span class="val">7</span></div>
        <div class="migration-stat"><span>Patterns</span><span class="val">17</span></div>
        <div class="migration-stat"><span>Migration docs</span><span class="val">936</span></div>
      </div>
    </div>
    <details>
      <summary style="cursor:pointer;color:#8b949e;font-size:0.85rem">Migrated Modules (27)</summary>
      <div class="module-grid" style="margin-top:0.5rem">
        <span class="module-chip has-cmd has-qry" title="3 handlers">Articles</span>
            <span class="module-chip has-cmd has-qry" title="2 handlers">CaisseDevises</span>
            <span class="module-chip has-cmd has-qry" title="5 handlers">Change</span>
            <span class="module-chip has-cmd has-qry" title="14 handlers">ChangementCompte</span>
            <span class="module-chip has-cmd has-qry" title="3 handlers">Coffre</span>
            <span class="module-chip has-cmd has-qry" title="2 handlers">Depot</span>
            <span class="module-chip has-cmd has-qry" title="3 handlers">Details</span>
            <span class="module-chip has-cmd has-qry" title="3 handlers">Devises</span>
            <span class="module-chip has-qry" title="2 handlers">DevisesRef</span>
            <span class="module-chip has-cmd has-qry" title="8 handlers">Divers</span>
            <span class="module-chip has-cmd has-qry" title="7 handlers">EasyCheckOut</span>
            <span class="module-chip has-qry" title="1 handlers">Ecarts</span>
            <span class="module-chip has-qry" title="9 handlers">Extrait</span>
            <span class="module-chip has-cmd has-qry" title="6 handlers">EzCard</span>
            <span class="module-chip has-cmd has-qry" title="2 handlers">Factures</span>
            <span class="module-chip has-cmd has-qry" title="6 handlers">Garanties</span>
            <span class="module-chip has-cmd has-qry" title="5 handlers">Identification</span>
            <span class="module-chip has-qry" title="1 handlers">Members</span>
            <span class="module-chip has-qry" title="4 handlers">Menus</span>
            <span class="module-chip has-qry" title="2 handlers">Parametres</span>
            <span class="module-chip has-cmd" title="1 handlers">PrinterManagement</span>
            <span class="module-chip has-cmd has-qry" title="3 handlers">Sessions</span>
            <span class="module-chip has-cmd has-qry" title="3 handlers">Solde</span>
            <span class="module-chip has-cmd has-qry" title="4 handlers">Telephone</span>
            <span class="module-chip has-cmd has-qry" title="10 handlers">Utilitaires</span>
            <span class="module-chip has-cmd has-qry" title="20 handlers">Ventes</span>
            <span class="module-chip has-qry" title="10 handlers">Zooms</span>
      </div>
      <div style="font-size:0.7rem;color:#6e7681;margin-top:0.4rem">
        Green border = Commands | Blue border = Queries
      </div>
    </details>
  </div>

  <script>
    fetch('history.json')
      .then(r => r.ok ? r.json() : [])
      .then(history => {
        if (!history.length) return;
        const last30 = history.slice(-30);
        const labels = last30.map(h => h.date.slice(5));
        const healthData = last30.map(h => h.avgHealth);
        const failData = last30.map(h => h.failingCI);

        new Chart(document.getElementById('trendsChart'), {
          type: 'line',
          data: {
            labels,
            datasets: [
              {
                label: 'Avg Health',
                data: healthData,
                borderColor: '#58a6ff',
                backgroundColor: 'rgba(88,166,255,0.1)',
                fill: true,
                tension: 0.3,
                yAxisID: 'y',
              },
              {
                label: 'Failing CI',
                data: failData,
                borderColor: '#ef4444',
                backgroundColor: 'rgba(239,68,68,0.1)',
                fill: true,
                tension: 0.3,
                yAxisID: 'y1',
              },
            ],
          },
          options: {
            responsive: true,
            interaction: { mode: 'index', intersect: false },
            scales: {
              y: {
                type: 'linear', position: 'left', min: 0, max: 100,
                title: { display: true, text: 'Health', color: '#8b949e' },
                ticks: { color: '#8b949e' }, grid: { color: '#21262d' },
              },
              y1: {
                type: 'linear', position: 'right', min: 0,
                title: { display: true, text: 'Failing', color: '#8b949e' },
                ticks: { color: '#8b949e', stepSize: 1 }, grid: { drawOnChartArea: false },
              },
              x: { ticks: { color: '#8b949e' }, grid: { color: '#21262d' } },
            },
            plugins: { legend: { labels: { color: '#c9d1d9' } } },
          },
        });

        document.querySelectorAll('[data-sparkline]').forEach(canvas => {
          const name = canvas.getAttribute('data-sparkline');
          const last14 = history.slice(-14);
          const data = last14.map(h => {
            const proj = h.perProject.find(p => p.name === name);
            return proj ? proj.health : null;
          }).filter(v => v !== null);
          if (!data.length) return;
          new Chart(canvas, {
            type: 'line',
            data: {
              labels: data.map((_, i) => i),
              datasets: [{ data, borderColor: '#58a6ff', borderWidth: 1.5, pointRadius: 0, fill: false, tension: 0.3 }],
            },
            options: {
              responsive: false,
              plugins: { legend: { display: false }, tooltip: { enabled: false } },
              scales: { x: { display: false }, y: { display: false, min: 0, max: 100 } },
            },
          });
        });
      })
      .catch(() => {});
  </script>
</body>
</html>